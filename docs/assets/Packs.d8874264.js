import{_ as k,o as c,c as d,t as u,r as y,F as p,g as E,h as B,n as f,f as n,a as l}from"./index.326009e7.js";const b={props:["category"]},C={class:"packCategoriesLbl"};function _(e,t,a,s,o,i){return c(),d("label",C,u(a.category),1)}const N=k(b,[["render",_]]);const P={components:{PackCategories:N},props:["categories","firstElement"]},I={key:1,class:"packCategoriesLbl"};function A(e,t,a,s,o,i){const m=y("PackCategories");return c(),d("div",{class:f(["packCategories",{displayNone:!a.firstElement}])},[a.categories?(c(!0),d(p,{key:0},E(a.categories,r=>(c(),B(m,{category:r},null,8,["category"]))),256)):(c(),d("label",I,"No Categories"))],2)}const T=k(P,[["render",A]]);let g;const S={components:{PackRounds:T},props:["author","name","rounds","roomID"],data(){return{nextRound:function(e){e.stopImmediatePropagation();let t=Array.from(e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")).findIndex(a=>a.style.display!=="none");t+1<Array.from(e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")).length&&(e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")[t].style.display="none",e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")[t+1].style.display="flex",e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("roundOfCategories")[0].innerText=`Round ${t+2}`)},prevRound:function(e){e.stopImmediatePropagation();let t=Array.from(e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")).findIndex(a=>a.style.display!=="none");t>0&&(e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")[t].style.display="none",e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")[t-1].style.display="flex",e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("roundOfCategories")[0].innerText=`Round ${t}`)},onPack:function(e){switch(e.currentTarget.parentElement.id){case"packsBlock":document.getElementById("packQuestionForm").style.display="block",document.getElementById("findPack").style.display="none",document.getElementById("packNameAtQuestionForm").textContent=`${e.currentTarget.getElementsByClassName("packName")[0].textContent}`;for(let s=0;s<n.data().packs[e.currentTarget.getAttribute("roomid")].rounds.length;s++){Array.from(document.getElementById("packQuestionForm").getElementsByTagName("main"))[0].insertAdjacentHTML("beforeend",`
                                        <label class="roundsLbl">Round ${s+1}</label>
                                    `),n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].categories==null&&(n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].categories=["","","","","","",""]);for(let o=0;o<n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].categories.length;o++){document.getElementById("packQuestionForm").getElementsByTagName("main")[0].insertAdjacentHTML("beforeend",`
                                        <label class="categoriesLbl">${n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].categories[o]}</label>
                                    `);for(let i=5*o;i<(o+1)*(n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].questions.length/7)-1;i++)document.getElementById("packQuestionForm").getElementsByTagName("main")[0].insertAdjacentHTML("beforeend",`
                                        <label class="qnLbl">${n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].questions[i]}</label>
                                        <button class="closeAnswer">${n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].answers[i]}</button>
                                    `)}}Array.from(document.getElementsByClassName("closeAnswer")).forEach(s=>s.addEventListener("click",this.onCloseAnswer));break;case"pickPackBlock":document.getElementById("backToPackPick").style.display="block",document.getElementById("routerLinkCG").style.display="none",document.getElementById("lobbyGame").style.display="block",document.getElementById("pickPackBlock").style.display="none",document.getElementById("createGameHeader").style["grid-template-rows"]="100%",document.getElementById("createGame").style["grid-template-rows"]="4.9% 95.1%";let a=e.currentTarget.cloneNode(!0);document.getElementById("lobbyGame").insertAdjacentElement("afterbegin",a),n.data().packs&&n.data().packs[e.currentTarget.getAttribute("roomid")]&&(g=n.data().packs[e.currentTarget.getAttribute("roomid")]),JSON.parse(localStorage.getItem("localPacks"))&&JSON.parse(localStorage.getItem("localPacks"))[e.currentTarget.getAttribute("roomid")]&&(g=JSON.parse(localStorage.getItem("localPacks"))[e.currentTarget.getAttribute("roomid")]);break;case"lobbyGame":document.getElementById("lobbyGame").style.display="none",document.getElementById("pickPackBlock").style.display="block",document.getElementById("lobbyGame").getElementsByClassName("pack")[0]!==void 0&&document.getElementById("lobbyGame").getElementsByClassName("pack")[0].remove();break}},onStar:function(e){if(e.stopImmediatePropagation(),e.target.classList.contains("liked")){let t=Array.isArray(JSON.parse(localStorage.getItem("likedPacks")))?JSON.parse(localStorage.getItem("likedPacks")):[];localStorage.setItem("likedPacks",JSON.stringify(t.filter(a=>a!==e.target.parentElement.getAttribute("roomid")))),e.target.classList.remove("liked")}else{let t=Array.isArray(JSON.parse(localStorage.getItem("likedPacks")))?JSON.parse(localStorage.getItem("likedPacks")):[];t.push(e.target.parentElement.getAttribute("roomid")),localStorage.setItem("likedPacks",JSON.stringify(t)),e.target.classList.add("liked")}},onCloseAnswer:function(e){e.currentTarget.style.color!=="white"?e.currentTarget.style.color="white":e.currentTarget.style.color="transparent"},star:this.likedPack?"liked":"notLiked",likedPack:localStorage.getItem("likedPacks")?!!JSON.parse(localStorage.getItem("likedPacks")).find(e=>e==this.roomID):null,pickedPack:g}}},R=["roomID"],x={class:"packName"},h={class:"packAuthor"},L={class:"packCategoriesBlock"},O={class:"categoriesRoundBlock"},$=l("label",{class:"roundOfCategories"},"Round 1",-1);function w(e,t,a,s,o,i){const m=y("PackRounds");return c(),d("div",{class:"pack",onClick:t[3]||(t[3]=r=>o.onPack(r)),roomID:a.roomID},[l("div",{class:f(["packStar",{liked:o.likedPack}]),onClick:t[0]||(t[0]=r=>o.onStar(r))},null,2),l("label",x,u(a.name),1),l("label",h,u(a.author),1),l("div",L,[l("button",{onClick:t[1]||(t[1]=r=>o.prevRound(r)),class:"prevRound"},"<"),l("div",O,[$,(c(!0),d(p,null,E(a.rounds,r=>(c(),B(m,{categories:r.categories,firstElement:a.rounds[0]==r},null,8,["categories","firstElement"]))),256))]),l("button",{onClick:t[2]||(t[2]=r=>o.nextRound(r)),class:"nextRound"},">")])],8,R)}const G=k(S,[["render",w]]);export{G as P};
