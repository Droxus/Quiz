import{_ as u,o as c,c as d,t as k,r as p,F as y,e as E,g as B,n as f,f as n,a as l}from"./index.73d8d950.js";const b={props:["category"]},C={class:"packCategoriesLbl"};function _(e,t,a,s,o,i){return c(),d("label",C,k(a.category),1)}const P=u(b,[["render",_]]);const N={components:{PackCategories:P},props:["categories","firstElement"]},I={key:1,class:"packCategoriesLbl"};function A(e,t,a,s,o,i){const m=p("PackCategories");return c(),d("div",{class:f(["packCategories",{displayNone:!a.firstElement}])},[a.categories?(c(!0),d(y,{key:0},E(a.categories,r=>(c(),B(m,{category:r},null,8,["category"]))),256)):(c(),d("label",I,"No Categories"))],2)}const S=u(N,[["render",A]]);let g;const R={components:{PackRounds:S},props:["author","name","rounds","roomID"],data(){return{nextRound:function(e){e.stopImmediatePropagation();let t=Array.from(e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")).findIndex(a=>a.style.display!=="none");t+1<Array.from(e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")).length&&(e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")[t].style.display="none",e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")[t+1].style.display="flex",e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("roundOfCategories")[0].innerText=`Round ${t+2}`)},prevRound:function(e){e.stopImmediatePropagation();let t=Array.from(e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")).findIndex(a=>a.style.display!=="none");t>0&&(e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")[t].style.display="none",e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("packCategories")[t-1].style.display="flex",e.target.parentElement.getElementsByClassName("categoriesRoundBlock")[0].getElementsByClassName("roundOfCategories")[0].innerText=`Round ${t}`)},onPack:function(e){switch(e.currentTarget.parentElement.id){case"packsBlock":document.getElementById("packQuestionForm").style.display="block",document.getElementById("findPack").style.display="none",document.getElementById("packNameAtQuestionForm").textContent=`${e.currentTarget.getElementsByClassName("packName")[0].textContent}`;for(let s=0;s<n.data().packs[e.currentTarget.getAttribute("roomid")].rounds.length;s++){Array.from(document.getElementById("packQuestionForm").getElementsByTagName("main"))[0].insertAdjacentHTML("beforeend",`
                                        <h1>Round ${s+1}</h1>
                                    `),n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].categories==null&&(n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].categories=["","","","","","",""]);for(let o=0;o<n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].categories.length;o++){document.getElementById("packQuestionForm").getElementsByTagName("main")[0].insertAdjacentHTML("beforeend",`
                                        <h2>${n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].categories[o]}</h2>
                                    `);for(let i=5*o;i<(o+1)*(n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].questions.length/7)-1;i++)document.getElementById("packQuestionForm").getElementsByTagName("main")[0].insertAdjacentHTML("beforeend",`
                                        <h3>${n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].questions[i]}</h3>
                                        <button class="closeAnser">${n.data().packs[e.currentTarget.getAttribute("roomid")].rounds[s].answers[i]}</button>
                                    `)}}break;case"pickPackBlock":document.getElementById("backToPackPick").style.display="block",document.getElementById("routerLinkCG").style.display="none",document.getElementById("lobbyGame").style.display="block",document.getElementById("pickPackBlock").style.display="none",document.getElementById("createGameHeader").style["grid-template-rows"]="100%",document.getElementById("createGame").style["grid-template-rows"]="4.9% 95.1%";let a=e.currentTarget.cloneNode(!0);document.getElementById("lobbyGame").insertAdjacentElement("afterbegin",a),n.data().packs&&n.data().packs[e.currentTarget.getAttribute("roomid")]&&(g=n.data().packs[e.currentTarget.getAttribute("roomid")]),JSON.parse(localStorage.getItem("localPacks"))&&JSON.parse(localStorage.getItem("localPacks"))[e.currentTarget.getAttribute("roomid")]&&(g=JSON.parse(localStorage.getItem("localPacks"))[e.currentTarget.getAttribute("roomid")]);break;case"lobbyGame":document.getElementById("lobbyGame").style.display="none",document.getElementById("pickPackBlock").style.display="block",document.getElementById("lobbyGame").getElementsByClassName("pack")[0]!==void 0&&document.getElementById("lobbyGame").getElementsByClassName("pack")[0].remove();break}},onStar:function(e){if(e.stopImmediatePropagation(),e.target.classList.contains("liked")){let t=Array.isArray(JSON.parse(localStorage.getItem("likedPacks")))?JSON.parse(localStorage.getItem("likedPacks")):[];localStorage.setItem("likedPacks",JSON.stringify(t.filter(a=>a!==e.target.parentElement.getAttribute("roomid")))),e.target.classList.remove("liked")}else{let t=Array.isArray(JSON.parse(localStorage.getItem("likedPacks")))?JSON.parse(localStorage.getItem("likedPacks")):[];t.push(e.target.parentElement.getAttribute("roomid")),localStorage.setItem("likedPacks",JSON.stringify(t)),e.target.classList.add("liked")}},star:this.likedPack?"liked":"notLiked",likedPack:localStorage.getItem("likedPacks")?!!JSON.parse(localStorage.getItem("likedPacks")).find(e=>e==this.roomID):null,pickedPack:g}}},T=["roomID"],h={class:"packName"},x={class:"packAuthor"},O={class:"packCategoriesBlock"},L={class:"categoriesRoundBlock"},$=l("label",{class:"roundOfCategories"},"Round 1",-1);function J(e,t,a,s,o,i){const m=p("PackRounds");return c(),d("div",{class:"pack",onClick:t[3]||(t[3]=r=>o.onPack(r)),roomID:a.roomID},[l("div",{class:f(["packStar",{liked:o.likedPack}]),onClick:t[0]||(t[0]=r=>o.onStar(r))},null,2),l("label",h,k(a.name),1),l("label",x,k(a.author),1),l("div",O,[l("button",{onClick:t[1]||(t[1]=r=>o.prevRound(r)),class:"prevRound"},"<"),l("div",L,[$,(c(!0),d(y,null,E(a.rounds,r=>(c(),B(m,{categories:r.categories,firstElement:a.rounds[0]==r},null,8,["categories","firstElement"]))),256))]),l("button",{onClick:t[2]||(t[2]=r=>o.nextRound(r)),class:"nextRound"},">")])],8,T)}const F=u(R,[["render",J]]);export{F as P};
