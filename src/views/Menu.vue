<template>
<div id="menu">
    <div id="gameName">
        <svg width="87" height="98" viewBox="0 0 87 98" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M82.0208 80.8669L83.1986 79.2499L81.8792 77.7461L71.2033 65.5785C71.3668 64.0589 71.498 61.6763 71.5396 58.8335C71.5983 54.8211 71.4811 49.6458 70.9642 44.1205C70.4481 38.6024 69.5286 32.6812 67.9632 27.199C66.4056 21.7435 64.1619 16.5552 60.8983 12.643C54.3021 4.73583 47.2195 2.32363 40.9369 2.50989C34.8207 2.69122 29.7871 5.32802 27.1193 6.86688C23.5654 8.91691 18.1076 12.995 13.5773 18.1847C9.67393 22.6561 6.62571 27.977 4.67261 32.6371C2.39496 38.0717 1.69621 46.8007 3.60492 56.3383C5.52841 65.9497 10.143 76.6231 18.7919 85.936C25.9297 93.6217 33.6371 95.9164 40.4369 95.4402C46.395 95.0228 51.4796 92.4951 54.7487 89.9818L70.0802 94.4528L71.7666 94.9446L72.8008 93.5247L82.0208 80.8669ZM21.9578 41.2196C23.3823 34.814 27.0244 30.1921 30.921 27.0897C34.8041 23.9982 38.7457 22.5666 40.6676 22.3299C41.5097 22.344 42.5715 22.4951 43.5474 22.8117C44.6169 23.1587 45.2841 23.6059 45.5866 23.9876C46.7666 25.4766 47.7597 26.9759 49.5611 33.5222C50.9709 38.6455 52.5524 51.4288 53.1732 57.3197C53.4203 59.6642 53.2965 62.3929 51.7292 65.8019C51.3125 66.7085 50.2806 68.1341 48.9485 69.6427C47.6459 71.118 46.2692 72.4338 45.346 73.14C42.1679 75.5711 39.2154 75.6257 36.4113 74.3412C33.4073 72.9651 30.429 69.9563 27.9021 65.9788C23.4933 59.039 20.0152 49.9549 21.9578 41.2196Z" fill="#E17BB3" stroke="#145367" stroke-width="5"/>
</svg>
<svg width="75" height="98" viewBox="0 0 75 98" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M35.7835 94.7552C35.7916 94.7553 35.7994 94.7554 35.8068 94.7555C35.8091 94.7556 35.8114 94.7558 35.8138 94.7559C35.8692 94.7589 35.9437 94.7624 36.0362 94.7655C36.2211 94.7716 36.4782 94.7759 36.7993 94.7715C37.4409 94.7625 38.3414 94.7181 39.4326 94.5801C41.611 94.3045 44.58 93.6521 47.774 92.1409C54.2593 89.0726 61.3765 82.5984 64.8119 69.3852L64.845 69.2578L64.8646 69.1277L72.3682 19.2135C73.3832 12.4618 68.1545 6.38827 61.3269 6.38828C55.4731 6.38828 50.6382 10.9262 50.173 16.7271C48.3557 39.3868 46.6777 53.749 45.0745 62.8337C44.0435 68.6759 39.8382 71.6596 35.7936 71.9296C31.8313 72.194 27.7571 69.8886 26.6439 64.1974C24.9141 55.3544 24.1749 40.403 25.7293 15.1077C26.1109 8.89804 21.4777 3.38497 15.1957 2.91218C9.09386 2.45296 3.66322 6.92546 3.26465 13.1473C2.54747 24.3429 1.83697 44.8595 4.36962 64.2968C6.33236 79.3602 14.1415 87.1052 21.6065 90.9745C25.2834 92.8803 28.821 93.8211 31.4346 94.288C32.745 94.5221 33.8342 94.639 34.6076 94.6975C34.9947 94.7267 35.3037 94.7414 35.523 94.7488C35.6326 94.7524 35.7199 94.7543 35.7835 94.7552Z" fill="#E17BB3" stroke="#145367" stroke-width="5"/>
</svg>
<svg width="74" height="102" viewBox="0 0 74 102" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12.2125 8.31622C6.10439 9.24439 1.90522 14.9484 2.83339 21.0565L2.86595 21.2707C3.77614 27.2605 9.36966 31.3783 15.3594 30.4681C18.6191 29.9728 21.6632 32.2138 22.1585 35.4734L27.2321 68.8615C27.7274 72.1212 25.4864 75.1652 22.2268 75.6606C16.237 76.5708 12.1192 82.1643 13.0294 88.1541L13.1325 88.8325C14.0996 95.197 20.043 99.5724 26.4075 98.6053L34.1029 97.4359L61.5604 93.2635C67.9249 92.2964 72.3003 86.353 71.3332 79.9885L71.0774 78.3052C70.2515 72.8704 65.1762 69.1341 59.7414 69.9599C57.0367 70.3709 54.5109 68.5115 54.0999 65.8068L48.721 30.409C48.31 27.7043 50.1694 25.1785 52.8741 24.7675C58.3089 23.9416 62.0452 18.8664 61.2193 13.4316L61.0341 12.2125C60.1059 6.10437 54.4019 1.90522 48.2938 2.83339L12.2125 8.31622Z" fill="#E17BB3" stroke="#145367" stroke-width="5"/>
</svg>
<svg width="77" height="100" viewBox="0 0 77 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10.4265 3.00331C5.68192 2.12252 1.66575 6.5365 2.98939 11.177L5.92478 21.4682C6.68089 24.119 9.02683 26.0047 11.7782 26.1731L35.7368 27.64C40.148 27.9101 42.4552 33.0093 39.7462 36.5011L6.17428 79.7737C0.833797 86.6573 5.71634 96.6753 14.4286 96.7099L65.4116 96.9123C70.1363 96.931 73.3019 92.0625 71.3679 87.7517L68.2809 80.8706C67.2915 78.6653 65.1601 77.1911 62.7476 77.0434L44.6398 75.9347C40.975 75.7103 39.107 71.428 41.4356 68.5892L71.683 31.7143C77.2322 24.9492 73.4935 14.7112 64.8906 13.1141L10.4265 3.00331Z" fill="#E17BB3" stroke="#145367" stroke-width="5"/>
</svg>
    </div>
    <div id="meunNavPanel">
        <router-link class="menuNavBtns" :to="'/joinGame'">Join Game</router-link>
        <router-link class="menuNavBtns" :to="'/createGame'">Create Game</router-link>
        <router-link class="menuNavBtns" :to="'/findPack'">Find Pack</router-link>
        <router-link class="menuNavBtns" :to="'/createPack'">Create Pack</router-link>
    </div>
    <div id="menuUserNickAva">
        <img id="userMenuIcon" width="48px" alt="icon" @click="changeIcon()">
        <input type="text" id="inputUserNick" :value="userName" @change="onUserName($event)">
        <input id="chooseAvatarInp" type="file" @input="onChangeIcon($event)">
    </div>
</div>
</template>

<style scoped>
#menu{
    display: grid;
    grid-template-columns: 100%;
    grid-template-rows: 25% 50% 25%;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    background: #76C5EF;
    background: radial-gradient(#8ac9eb, #2b84b3);
}
#chooseAvatarInp{
    display: none;
}
#userMenuIcon{
    width: 64px;
    border-radius: 50%;
    align-self: end;
    justify-self: center;
    margin-bottom: -10%;
    z-index: 2;
    border: 4px solid #04455a;
}
.menuNavBtns{
    font-family: 'Jua', sans-serif;
    font-style: normal;
    font-weight: 400;
    font-size: 3em;
    line-height: 80px;
    letter-spacing: 0.1175em;
    color: #145367;
}
#meunNavPanel{
    display: grid;
    place-self: center;
    text-align: center;
}
#menuUserNickAva{
    display: grid;
    align-self: end;
    justify-self: center;
    margin-bottom: 2%;
}
#inputUserNick{
    border: 4px solid #145367;
    height: 55px;
    width: 200px;
    border-radius: 25px;
    text-align: center;
    background: #2185A6;
    font-family: 'Jua', sans-serif;
    font-style: normal;
    font-weight: 400;
    color: #145367;
    font-size: 1.5em;
    line-height: 25px;
    z-index: 1;
    outline: none;
}
#gameName{
    display: flex;
    justify-content: center;
}
#gameName > *{
    margin: 2%;
}
#gameName > *:nth-child(odd){
    animation: 1s linear 0s infinite alternate rotateOddName;
}
#gameName > *:nth-child(even){
    animation: 1s linear 0s infinite alternate rotateName;
}
@keyframes rotateName{
    from {
         transform: rotate(15deg);
    }
    to{
        transform: rotate(-15deg);
    }
}
@keyframes rotateOddName{
    from {
        transform: rotate(-15deg);
    }
    to{
        transform: rotate(15deg);
    }
}
.menuNavBtns:hover{
    color: white;
    transition: .4s;
}
</style>
<script>
import firebase from '../firebase.js'

    export default {
        data() {
            return {
                userName: firebase.data().userName,
                myIcon: firebase.data().myIcon,
                onUserName: function(event){
                    let newUserName = event.target.value
                    let currUserName = firebase.data().userName
                    if (newUserName.length > 3){
                        firebase.data().setUserName(newUserName)
                    } else {
                        event.target.value = currUserName
                    }
                },
                changeIcon: function(){
                    document.getElementById('chooseAvatarInp').click()
                },
                onChangeIcon: function(event){
                    if (event.target.files[0].type.slice(0, 5) == 'image'){
                    firebase.data().setUserAvatarL(event.target.files[0])
                    document.getElementById('userMenuIcon').src = window.URL.createObjectURL(event.target.files[0])
                    }
                },
            }
        },
        mounted(){
            if (!document.getElementById('userMenuIcon').src){
                document.getElementById('userMenuIcon').src = firebase.data().myIcon
            }
        }
    }
</script>